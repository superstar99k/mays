(function(a){var d=function(){var d=[],m=0,l={jpShort:"\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split(""),jpLong:"\u65e5\u66dc\u65e5 \u6708\u66dc\u65e5 \u706b\u66dc\u65e5 \u6c34\u66dc\u65e5 \u6728\u66dc\u65e5 \u91d1\u66dc\u65e5 \u571f\u66dc\u65e5".split(" "),enShort:"SUN MON TUE WED THU FRI SAT".split(" "),enLong:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},n={jpShort:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
jpLong:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),enShort:"JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DE".split(" "),enLong:"January February March April May June July August September October November December".split(" ")},k={dayname:"jpShort",monthname:"jpShort",starts:0,prev:"&lt;&lt;",next:"&gt;&gt;",calendars:1,dateformat:"%Y-%m-%d",monthformat:"%mn, %Y",
tplmonth:'<table><caption><div class="ameyacalendarprev" /><div class="ameyacalendarnext" /><div class="ameyacalendarmonth" /></caption><thead><tr><th /><th /><th /><th /><th /><th /><th /></tr></thead><tbody><tr><td /><td /><td /><td /><td /><td /><td /></tr><tr><td /><td /><td /><td /><td /><td /><td /></tr><tr><td /><td /><td /><td /><td /><td /><td /></tr><tr><td /><td /><td /><td /><td /><td /><td /></tr><tr><td /><td /><td /><td /><td /><td /><td /></tr><tr><td /><td /><td /><td /><td /><td /><td /></tr></tbody></table>',
tpldate:"%di",find:[".ameyacalendarmonth",".ameyacalendarprev",".ameyacalendarnext","thead th","tbody td"],event:{},eventview:function(a,b,d,g){},noeventview:function(a,b,d){},eventclick:function(a){},noeventclick:function(a){},eventover:function(a){},eventout:function(a){},dateselect:function(a){},sel:new Date,viewmonth:new Date};return{getDate:function(c){return a(this).data("amycopt").sel},setDate:function(c){a(this).data("amycopt").sel=c;a(this).amycViewDate(sel);return this},getEvent:function(){return a(this).data("amycopt").event},
setEvent:function(c){a(this).each(function(){var b=a(this).data("amycopt");b.event=c;a(this).amycViewDate(b.viewmonth)});return this},addEvent:function(c,b){a(this).data("amycopt").event[c]=b;return this},removeEvent:function(c){delete a(this).data("amycopt").event[c];return this},setCalendar:function(c){a(this).each(function(){var b;b=c?a.extend(!0,{},k,c):a.extend(!0,{},k);b.container=this;b.count=m++;d.push(this);a(this).data("amycopt",b);a(this).html(b.tplmonth);a(this).amycFill()});return this},
fill:function(){a(this).each(function(){var c=a(this).data("amycopt");a(this).find(c.find[1]).html(c.prev).click(function(){a(c.container).amycViewDate(new Date(c.viewmonth.getFullYear(),c.viewmonth.getMonth()-1,1))});a(this).find(c.find[2]).html(c.next).click(function(){a(c.container).amycViewDate(new Date(c.viewmonth.getFullYear(),c.viewmonth.getMonth()+1,1))});a(this).find(c.find[3]).each(function(b){a(this).html(l[c.dayname][(l[c.dayname].length+b+c.starts)%l[c.dayname].length])});a(this).amycViewDate(c.viewmonth)});
return this},viewDate:function(c){a(this).each(function(){var b=a(this).data("amycopt");b.viewmonth=c;a(this).find(b.find[0]).html(a(this).amycDateFormat(b.monthformat,b.viewmonth));var d=new Date(c);d.setDate(1);var g=(d.getDay()-b.starts+7)%7,f=new Date(c);f.setMonth(f.getMonth()+1);f.setDate(1);f.setTime(f.getTime()-864E5);today=new Date;a(this).find(b.find[4]).unbind("click").unbind("mouseover").unbind("mouseout").removeClass("amycw0 amycw1 amycw2 amycw3 amycw4 amycw5 amycw6 amycnull amycnotnull amyctoday amycevent").each(function(c){var e=
new Date(d);e.setTime(e.getTime()+864E5*(c-g));if(g>c||g+f.getDate()<=c)a(this).addClass("amycnull").html(""),b.event[h]?b.eventview(this,b.event[h],h,e):b.noeventview(this,h,e);else{a(this).addClass("amycnotnull");e.getFullYear()==today.getFullYear()&&e.getMonth()==today.getMonth()&&e.getDate()==today.getDate()&&a(this).addClass("amyctoday");a(this).html(a(b.container).amycDateFormat(b.tpldate,e)).click(function(){b.sel=e;b.dateselect(e)});var h=a(b.container).amycDateFormat(b.dateformat,e);a(this).data("date",
h);b.event[h]?(a(this).addClass("amycevent").click(b.eventclick).mouseover(b.eventover).mouseout(b.eventout),b.eventview(this,b.event[h],h,e)):(a(this).click(b.noeventclick),b.noeventview(this,h,e))}a(this).addClass("amycw"+c%7)})});return this},dateFormat:function(c,b){var d=a(this).data("amycopt"),g=b.getMonth()+1,f=b.getDate(),k=b.getDay();return c.replace(/%Y/g,b.getFullYear()).replace(/%y/g,(""+b.getFullYear()).substr(2,2)).replace(/%mn/g,n[d.monthname][g-1]).replace(/%mi/g,g).replace(/%m/g,
9<g?g:"0"+g).replace(/%di/g,f).replace(/%d/g,9<f?f:"0"+f).replace(/%wn/g,l[d.dayname][k]).replace(/%w/g,k)}}}();a.fn.extend({amycSetCalendar:d.setCalendar,amycFill:d.fill,amycDateFormat:d.dateFormat,amycViewDate:d.viewDate,amycSetDate:d.setDate,amycGetDate:d.getDate,amycAddEvent:d.addEvent,amycRemoveEvent:d.removeEvent,amycSetEvent:d.setEvent,amycGetEvent:d.getEvent})})(jQuery);